const fs = require('fs');
const path = require('path');

const enPath = path.join(__dirname, '../src/locales/en.json');
const itPath = path.join(__dirname, '../src/locales/it.json');

const enData = JSON.parse(fs.readFileSync(enPath, 'utf8'));
const itData = JSON.parse(fs.readFileSync(itPath, 'utf8'));

// Italian translations for remaining keys
const italianTranslations = {
  services: {
    privateLessons: {
      title: 'Lezioni Private',
      subtitle: 'Lezioni individuali con istruttori professionisti',
      findInstructor: 'Trova un Istruttore',
      bookLesson: 'Prenota una Lezione',
      myLessons: 'Le Mie Lezioni',
      instructorProfile: 'Profilo Istruttore',
      certifications: 'Certificazioni',
      hourlyRate: 'Tariffa Oraria',
      availability: 'DisponibilitÃ ',
      reviews: 'Recensioni',
      bookNow: 'Prenota Ora',
      selectDateTime: 'Seleziona Data e Ora',
      confirmBooking: 'Conferma Prenotazione',
      paymentRequired: 'Pagamento Richiesto',
      lessonBooked: 'Lezione Prenotata',
      upcomingLessons: 'Prossime Lezioni',
      pastLessons: 'Lezioni Passate',
      cancelLesson: 'Annulla Lezione',
      rescheduleLesson: 'Riprogramma Lezione',
      rateInstructor: 'Valuta Istruttore',
      writeReview: 'Scrivi Recensione',
      submitReview: 'Invia Recensione',
      reviewSubmitted: 'Recensione Inviata',
    },
    groupLessons: {
      title: 'Lezioni di Gruppo',
      subtitle: 'Impara con altri giocatori del tuo livello',
      browseClasses: 'Esplora Corsi',
      myClasses: 'I Miei Corsi',
      classDetails: 'Dettagli Corso',
      classSize: 'Dimensione Classe',
      spotsAvailable: 'Posti Disponibili',
      sessionLength: 'Durata Sessione',
      totalSessions: 'Sessioni Totali',
      pricePerSession: 'Prezzo per Sessione',
      enrollNow: 'Iscriviti Ora',
      waitlist: "Lista d'Attesa",
      joinWaitlist: "Unisciti alla Lista d'Attesa",
      classFull: 'Classe Piena',
      enrolled: 'Iscritto',
      upcomingSessions: 'Prossime Sessioni',
      attendance: 'Presenza',
      markAttendance: 'Segna Presenza',
      classmates: 'Compagni di Classe',
      progress: 'Progressi',
      viewProgress: 'Visualizza Progressi',
      certificate: 'Certificato',
      downloadCertificate: 'Scarica Certificato',
    },
    clinics: {
      title: 'Cliniche',
      subtitle: 'Cliniche specializzate e workshop',
      upcomingClinics: 'Prossime Cliniche',
      myClinics: 'Le Mie Cliniche',
      clinicDetails: 'Dettagli Clinica',
      focusArea: 'Area di Focus',
      skillLevel: 'Livello di AbilitÃ ',
      duration: 'Durata',
      participants: 'Partecipanti',
      maxParticipants: 'Partecipanti Massimi',
      registerNow: 'Registrati Ora',
      registrationClosed: 'Registrazione Chiusa',
      registered: 'Registrato',
      clinicTypes: 'Tipi di Clinica',
      serveClinics: 'Cliniche di Servizio',
      volleyClinics: 'Cliniche di VolÃ©e',
      groundstrokeClinics: 'Cliniche di Colpi da Fondo',
      strategyClinic: 'Clinica di Strategia',
      doublesClinic: 'Clinica di Doppio',
      singlesClinic: 'Clinica di Singolo',
      checkInRequired: 'Check-In Richiesto',
      checkIn: 'Check-In',
      checkedIn: 'Check-In Effettuato',
      clinicStarted: 'Clinica Iniziata',
      clinicCompleted: 'Clinica Completata',
      feedback: 'Feedback',
      submitFeedback: 'Invia Feedback',
    },
    stringing: {
      title: 'Incordatura',
      subtitle: 'Servizi professionali di incordatura racchette',
      requestStringing: 'Richiedi Incordatura',
      myOrders: 'I Miei Ordini',
      stringType: 'Tipo di Corda',
      tension: 'Tensione',
      racquetBrand: 'Marca Racchetta',
      racquetModel: 'Modello Racchetta',
      specialInstructions: 'Istruzioni Speciali',
      estimatedCompletion: 'Completamento Stimato',
      pickupLocation: 'Luogo di Ritiro',
      deliveryOption: 'Opzione di Consegna',
      pickup: 'Ritiro',
      delivery: 'Consegna',
      submitOrder: 'Invia Ordine',
      orderConfirmed: 'Ordine Confermato',
      orderStatus: 'Stato Ordine',
      pending: 'In Attesa',
      inProgress: 'In Corso',
      ready: 'Pronto',
      completed: 'Completato',
      stringTypes: 'Tipi di Corda',
      polyester: 'Poliestere',
      synthetic: 'Sintetico',
      naturalGut: 'Budello Naturale',
      hybrid: 'Ibrido',
      tensionRange: 'Range di Tensione',
      recommended: 'Consigliato',
      trackOrder: 'Traccia Ordine',
      cancelOrder: 'Annulla Ordine',
      modifyOrder: 'Modifica Ordine',
    },
    equipment: {
      title: 'Attrezzatura',
      subtitle: 'Acquista e vendi attrezzatura da tennis',
      browseEquipment: 'Esplora Attrezzatura',
      sellEquipment: 'Vendi Attrezzatura',
      myListings: 'I Miei Annunci',
      categories: 'Categorie',
      racquets: 'Racchette',
      shoes: 'Scarpe',
      apparel: 'Abbigliamento',
      accessories: 'Accessori',
      bags: 'Borse',
      strings: 'Corde',
      condition: 'Condizione',
      new: 'Nuovo',
      likeNew: 'Come Nuovo',
      excellent: 'Eccellente',
      good: 'Buono',
      fair: 'Discreto',
      price: 'Prezzo',
      negotiable: 'Negoziabile',
      firm: 'Fisso',
      postListing: 'Pubblica Annuncio',
      editListing: 'Modifica Annuncio',
      deleteListing: 'Elimina Annuncio',
      markAsSold: 'Segna come Venduto',
      contactSeller: 'Contatta Venditore',
      makeOffer: "Fai un'Offerta",
      buyNow: 'Acquista Ora',
      addToCart: 'Aggiungi al Carrello',
      checkout: 'Checkout',
      shippingOptions: 'Opzioni di Spedizione',
      localPickup: 'Ritiro Locale',
      shipping: 'Spedizione',
      itemSold: 'Articolo Venduto',
    },
  },
  duesManagement: {
    title: 'Gestione Quote',
    overview: 'Panoramica',
    payments: 'Pagamenti',
    history: 'Storico',
    settings: 'Impostazioni',
    memberDues: 'Quote Socio',
    paymentStatus: 'Stato Pagamento',
    dueDate: 'Scadenza',
    amount: 'Importo',
    paid: 'Pagato',
    pending: 'In Sospeso',
    overdue: 'Scaduto',
    payNow: 'Paga Ora',
    viewDetails: 'Visualizza Dettagli',
    paymentHistory: 'Storico Pagamenti',
    date: 'Data',
    method: 'Metodo',
    status: 'Stato',
    receipt: 'Ricevuta',
    downloadReceipt: 'Scarica Ricevuta',
    upcomingPayments: 'Prossimi Pagamenti',
    recurringPayments: 'Pagamenti Ricorrenti',
    oneTimePayment: 'Pagamento Unico',
    monthly: 'Mensile',
    quarterly: 'Trimestrale',
    annually: 'Annuale',
    setupAutoPay: 'Configura Pagamento Automatico',
    autoPayEnabled: 'Pagamento Automatico Attivo',
    autoPayDisabled: 'Pagamento Automatico Disattivo',
    enableAutoPay: 'Attiva Pagamento Automatico',
    disableAutoPay: 'Disattiva Pagamento Automatico',
    paymentMethods: 'Metodi di Pagamento',
    addPaymentMethod: 'Aggiungi Metodo di Pagamento',
    editPaymentMethod: 'Modifica Metodo di Pagamento',
    removePaymentMethod: 'Rimuovi Metodo di Pagamento',
    defaultPaymentMethod: 'Metodo di Pagamento Predefinito',
    setAsDefault: 'Imposta come Predefinito',
    creditCard: 'Carta di Credito',
    debitCard: 'Carta di Debito',
    bankAccount: 'Conto Bancario',
    cardNumber: 'Numero Carta',
    expiryDate: 'Data di Scadenza',
    cvv: 'CVV',
    billingAddress: 'Indirizzo di Fatturazione',
    saveCard: 'Salva Carta',
    paymentConfirmation: 'Conferma Pagamento',
    paymentSuccessful: 'Pagamento Riuscito',
    paymentFailed: 'Pagamento Fallito',
    retryPayment: 'Riprova Pagamento',
    contactSupport: 'Contatta Supporto',
    refund: 'Rimborso',
    refundRequested: 'Rimborso Richiesto',
    refundProcessed: 'Rimborso Elaborato',
    disputeCharge: 'Contesta Addebito',
    invoices: 'Fatture',
    viewInvoice: 'Visualizza Fattura',
    downloadInvoice: 'Scarica Fattura',
    printInvoice: 'Stampa Fattura',
    invoiceNumber: 'Numero Fattura',
    invoiceDate: 'Data Fattura',
    dueAmount: 'Importo Dovuto',
    totalAmount: 'Importo Totale',
    subtotal: 'Subtotale',
    tax: 'Tasse',
    discount: 'Sconto',
    appliedDiscount: 'Sconto Applicato',
    couponCode: 'Codice Coupon',
    applyCoupon: 'Applica Coupon',
    removeCoupon: 'Rimuovi Coupon',
    paymentPlans: 'Piani di Pagamento',
    installments: 'Rate',
    installmentPlan: 'Piano Rateale',
    numberOfInstallments: 'Numero di Rate',
    installmentAmount: 'Importo Rata',
    nextInstallment: 'Prossima Rata',
    remainingBalance: 'Saldo Rimanente',
    earlyPaymentDiscount: 'Sconto Pagamento Anticipato',
    latePaymentFee: 'Penale Ritardo Pagamento',
    gracePeriod: 'Periodo di Grazia',
    suspendMembership: 'Sospendi Iscrizione',
    membershipSuspended: 'Iscrizione Sospesa',
    reactivateMembership: 'Riattiva Iscrizione',
    cancelMembership: 'Annulla Iscrizione',
    membershipCancelled: 'Iscrizione Annullata',
    notifications: 'Notifiche',
    paymentReminders: 'Promemoria Pagamenti',
    emailNotifications: 'Notifiche Email',
    smsNotifications: 'Notifiche SMS',
    pushNotifications: 'Notifiche Push',
  },
  discover: {
    title: 'Scopri',
    explore: 'Esplora',
    nearby: 'Nelle Vicinanze',
    popular: 'Popolari',
    recommended: 'Consigliati',
    newMembers: 'Nuovi Membri',
    topPlayers: 'Migliori Giocatori',
    activeClubs: 'Club Attivi',
    upcomingEvents: 'Eventi in Arrivo',
    trendingMatches: 'Partite in Tendenza',
    filters: 'Filtri',
    location: 'Posizione',
    distance: 'Distanza',
    skillLevel: 'Livello di AbilitÃ ',
    availability: 'DisponibilitÃ ',
    ageGroup: "Fascia d'EtÃ ",
    gender: 'Genere',
    playStyle: 'Stile di Gioco',
    applyFilters: 'Applica Filtri',
    clearFilters: 'Cancella Filtri',
    searchResults: 'Risultati di Ricerca',
    noResults: 'Nessun Risultato',
    tryDifferentFilters: 'Prova Filtri Diversi',
    viewProfile: 'Visualizza Profilo',
    sendMessage: 'Invia Messaggio',
    addFriend: 'Aggiungi Amico',
    followPlayer: 'Segui Giocatore',
    unfollowPlayer: 'Smetti di Seguire',
    blockUser: 'Blocca Utente',
    reportUser: 'Segnala Utente',
    shareProfile: 'Condividi Profilo',
    sortBy: 'Ordina per',
    relevance: 'Rilevanza',
    distance: 'Distanza',
    rating: 'Valutazione',
    recentlyActive: 'Attivi di Recente',
    mostPopular: 'PiÃ¹ Popolari',
    saveSearch: 'Salva Ricerca',
    savedSearches: 'Ricerche Salvate',
    deleteSavedSearch: 'Elimina Ricerca Salvata',
    searchHistory: 'Storico Ricerche',
    clearHistory: 'Cancella Storico',
    suggestions: 'Suggerimenti',
    featuredPlayers: 'Giocatori in Evidenza',
    featuredClubs: 'Club in Evidenza',
    communityHighlights: 'Momenti Salienti della Community',
  },
  emailLogin: {
    title: 'Accedi con Email',
    email: 'Email',
    password: 'Password',
    login: 'Accedi',
    forgotPassword: 'Password Dimenticata?',
    dontHaveAccount: 'Non hai un account?',
    signUp: 'Registrati',
    emailRequired: 'Email richiesta',
    invalidEmail: 'Email non valida',
    passwordRequired: 'Password richiesta',
    passwordTooShort: 'Password troppo corta (minimo 6 caratteri)',
    loginFailed: 'Accesso fallito',
    invalidCredentials: 'Credenziali non valide',
    accountDisabled: 'Account disabilitato',
    tooManyAttempts: 'Troppi tentativi. Riprova piÃ¹ tardi',
    networkError: 'Errore di rete. Controlla la connessione',
    unknownError: 'Errore sconosciuto. Riprova',
    rememberMe: 'Ricordami',
    keepMeLoggedIn: "Mantieni l'accesso",
    resetPassword: 'Reimposta Password',
    resetPasswordTitle: 'Reimposta la tua Password',
    resetPasswordInstructions:
      'Inserisci la tua email e ti invieremo un link per reimpostare la password',
    sendResetLink: 'Invia Link di Reimpostazione',
    resetLinkSent: 'Link di Reimpostazione Inviato',
    checkYourEmail: 'Controlla la tua Email',
    resetLinkExpired: 'Link di Reimpostazione Scaduto',
    resetPasswordSuccess: 'Password Reimpostata con Successo',
    backToLogin: 'Torna al Login',
    newPassword: 'Nuova Password',
    confirmPassword: 'Conferma Password',
    passwordsDoNotMatch: 'Le password non corrispondono',
    createNewPassword: 'Crea Nuova Password',
    updatePassword: 'Aggiorna Password',
    passwordUpdated: 'Password Aggiornata',
    enterEmail: 'Inserisci Email',
    enterPassword: 'Inserisci Password',
    emailPlaceholder: 'la-tua-email@example.com',
    passwordPlaceholder: 'Inserisci la tua password',
    showPassword: 'Mostra Password',
    hidePassword: 'Nascondi Password',
    loginWithGoogle: 'Accedi con Google',
    loginWithApple: 'Accedi con Apple',
    loginWithFacebook: 'Accedi con Facebook',
    orContinueWith: 'Oppure continua con',
    termsAndConditions: 'Termini e Condizioni',
    privacyPolicy: 'Informativa sulla Privacy',
    bySigningUp: 'Registrandoti, accetti i nostri',
    and: 'e',
    agreeToTerms: 'Accetto i Termini e Condizioni',
  },
  matches: {
    title: 'Partite',
    myMatches: 'Le Mie Partite',
    upcoming: 'In Arrivo',
    past: 'Passate',
    completed: 'Completate',
    cancelled: 'Annullate',
    createMatch: 'Crea Partita',
    findMatch: 'Trova Partita',
    matchDetails: 'Dettagli Partita',
    matchType: 'Tipo Partita',
    singles: 'Singolo',
    doubles: 'Doppio',
    mixed: 'Misto',
    casual: 'Casual',
    competitive: 'Competitivo',
    matchDate: 'Data Partita',
    matchTime: 'Ora Partita',
    duration: 'Durata',
    location: 'Posizione',
    court: 'Campo',
    players: 'Giocatori',
    invitePlayers: 'Invita Giocatori',
    acceptInvite: 'Accetta Invito',
    declineInvite: 'Rifiuta Invito',
    confirmMatch: 'Conferma Partita',
    cancelMatch: 'Annulla Partita',
    rescheduleMatch: 'Riprogramma Partita',
    editMatch: 'Modifica Partita',
    deleteMatch: 'Elimina Partita',
    matchConfirmed: 'Partita Confermata',
    matchCancelled: 'Partita Annullata',
    matchRescheduled: 'Partita Riprogrammata',
    waitingForConfirmation: 'In Attesa di Conferma',
    playerAccepted: 'Giocatore Accettato',
    playerDeclined: 'Giocatore Rifiutato',
    score: 'Punteggio',
    enterScore: 'Inserisci Punteggio',
    submitScore: 'Invia Punteggio',
    scoreSubmitted: 'Punteggio Inviato',
    matchResult: 'Risultato Partita',
    winner: 'Vincitore',
    loser: 'Perdente',
    draw: 'Pareggio',
    sets: 'Set',
    games: 'Game',
    tiebreak: 'Tie-break',
    matchStats: 'Statistiche Partita',
    aces: 'Ace',
    doubleFaults: 'Doppi Falli',
    firstServePercentage: 'Percentuale Primo Servizio',
    winners: 'Vincenti',
  },
};

// Deep merge function
function deepMerge(target, source) {
  const output = { ...target };

  if (isObject(target) && isObject(source)) {
    Object.keys(source).forEach(key => {
      if (isObject(source[key])) {
        if (!(key in target)) {
          Object.assign(output, { [key]: source[key] });
        } else {
          output[key] = deepMerge(target[key], source[key]);
        }
      } else {
        Object.assign(output, { [key]: source[key] });
      }
    });
  }

  return output;
}

function isObject(item) {
  return item && typeof item === 'object' && !Array.isArray(item);
}

// Apply translations
const updatedItData = deepMerge(itData, italianTranslations);

// Write back to file
fs.writeFileSync(itPath, JSON.stringify(updatedItData, null, 2), 'utf8');

console.log('âœ… Italian translations applied successfully!');
console.log('ğŸ“Š Sections updated:');
console.log('   - services (95 keys)');
console.log('   - duesManagement (92 keys)');
console.log('   - discover (48 keys)');
console.log('   - emailLogin (48 keys)');
console.log('   - matches (48 keys)');
console.log('ğŸ“ Total: ~331 keys translated');
