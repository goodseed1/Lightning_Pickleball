#!/usr/bin/env node

const fs = require('fs');
const path = require('path');

const enPath = path.join(__dirname, '../src/locales/en.json');
const ptPath = path.join(__dirname, '../src/locales/pt.json');

const en = JSON.parse(fs.readFileSync(enPath, 'utf8'));
const pt = JSON.parse(fs.readFileSync(ptPath, 'utf8'));

function deepMerge(target, source) {
  const output = { ...target };
  for (const key in source) {
    if (source[key] && typeof source[key] === 'object' && !Array.isArray(source[key])) {
      output[key] = deepMerge(target[key] || {}, source[key]);
    } else {
      output[key] = source[key];
    }
  }
  return output;
}

// Remaining translations - focused on specific sections
const remainingTranslations = {
  hostedEventCard: {
    hostedBy: 'Organizado por',
    viewDetails: 'Ver Detalhes',
    participants: 'Participantes',
    maxParticipants: 'Máximo',
    date: 'Data',
    time: 'Horário',
    location: 'Localização',
    skillLevel: 'Nível de Habilidade',
    joined: 'Participando',
    full: 'Lotado',
    cancelled: 'Cancelado',
    past: 'Passado',
    ongoing: 'Em Andamento',
    upcoming: 'Próximo',
    join: 'Participar',
    leave: 'Sair',
    cancel: 'Cancelar',
    edit: 'Editar',
    share: 'Compartilhar',
    report: 'Reportar',
    waitlist: 'Lista de Espera',
    joinWaitlist: 'Entrar na Lista de Espera',
    leaveWaitlist: 'Sair da Lista de Espera',
  },

  aiMatching: {
    title: 'Correspondência por IA',
    findMatch: 'Encontrar Partida',
    suggestedPartners: 'Parceiros Sugeridos',
    compatibility: 'Compatibilidade',
    skillMatch: 'Correspondência de Nível',
    locationMatch: 'Proximidade',
    availabilityMatch: 'Disponibilidade',
    styleMatch: 'Estilo de Jogo',
    noMatches: 'Nenhuma correspondência encontrada',
    searching: 'Buscando parceiros...',
    filters: 'Filtros',
    distance: 'Distância',
    availability: 'Disponibilidade',
    skillLevel: 'Nível de Habilidade',
    playingStyle: 'Estilo de Jogo',
    applyFilters: 'Aplicar Filtros',
    clearFilters: 'Limpar Filtros',
    sendRequest: 'Enviar Solicitação',
    viewProfile: 'Ver Perfil',
  },

  eventCard: {
    participants: 'Participantes',
    date: 'Data',
    time: 'Horário',
    location: 'Localização',
    skillLevel: 'Nível',
    viewDetails: 'Ver Detalhes',
    join: 'Participar',
    leave: 'Sair',
    full: 'Lotado',
    cancelled: 'Cancelado',
    past: 'Passado',
    ongoing: 'Em Andamento',
    upcoming: 'Próximo',
    share: 'Compartilhar',
    report: 'Reportar',
    waitlist: 'Lista de Espera',
    joined: 'Participando',
    organizer: 'Organizador',
  },

  cards: {
    eventCard: 'Cartão de Evento',
    clubCard: 'Cartão de Clube',
    playerCard: 'Cartão de Jogador',
    matchCard: 'Cartão de Partida',
    tournamentCard: 'Cartão de Torneio',
    leagueCard: 'Cartão de Liga',
    viewDetails: 'Ver Detalhes',
    share: 'Compartilhar',
    report: 'Reportar',
    save: 'Salvar',
    saved: 'Salvo',
    remove: 'Remover',
    edit: 'Editar',
    delete: 'Excluir',
    cancel: 'Cancelar',
    join: 'Participar',
    leave: 'Sair',
    follow: 'Seguir',
    unfollow: 'Deixar de Seguir',
  },

  performanceDashboard: {
    title: 'Painel de Desempenho',
    overview: 'Visão Geral',
    statistics: 'Estatísticas',
    trends: 'Tendências',
    achievements: 'Conquistas',
    recentMatches: 'Partidas Recentes',
    winRate: 'Taxa de Vitórias',
    totalMatches: 'Total de Partidas',
    wins: 'Vitórias',
    losses: 'Derrotas',
    winStreak: 'Sequência de Vitórias',
    ranking: 'Classificação',
    skillLevel: 'Nível de Habilidade',
    favoritePartner: 'Parceiro Favorito',
    favoriteCourt: 'Quadra Favorita',
    playTime: 'Tempo de Jogo',
    matchesThisMonth: 'Partidas Este Mês',
    improve: 'Melhorar',
    viewAll: 'Ver Tudo',
  },

  // Additional specific translations for remaining keys
  matchHistory: {
    title: 'Histórico de Partidas',
    allMatches: 'Todas as Partidas',
    recentMatches: 'Partidas Recentes',
    wins: 'Vitórias',
    losses: 'Derrotas',
    draws: 'Empates',
    winRate: 'Taxa de Vitórias',
    opponent: 'Oponente',
    score: 'Placar',
    date: 'Data',
    location: 'Localização',
    duration: 'Duração',
    surface: 'Superfície',
    matchType: 'Tipo de Partida',
    result: 'Resultado',
    viewDetails: 'Ver Detalhes',
    noMatches: 'Nenhuma partida encontrada',
    filterByDate: 'Filtrar por Data',
    filterByOpponent: 'Filtrar por Oponente',
    filterByResult: 'Filtrar por Resultado',
    exportData: 'Exportar Dados',
  },

  notifications: {
    title: 'Notificações',
    markAsRead: 'Marcar como Lida',
    markAllAsRead: 'Marcar Todas como Lidas',
    delete: 'Excluir',
    deleteAll: 'Excluir Todas',
    settings: 'Configurações',
    noNotifications: 'Nenhuma notificação',
    newMatch: 'Nova partida disponível',
    matchRequest: 'Solicitação de partida',
    matchAccepted: 'Partida aceita',
    matchDeclined: 'Partida recusada',
    matchCancelled: 'Partida cancelada',
    eventInvite: 'Convite para evento',
    clubInvite: 'Convite para clube',
    friendRequest: 'Solicitação de amizade',
    newMessage: 'Nova mensagem',
    achievement: 'Nova conquista',
    rankingUpdate: 'Atualização de classificação',
    todayTitle: 'Hoje',
    yesterdayTitle: 'Ontem',
    earlierTitle: 'Anteriores',
    enable: 'Habilitar',
    disable: 'Desabilitar',
    pushNotifications: 'Notificações Push',
    emailNotifications: 'Notificações por E-mail',
    smsNotifications: 'Notificações por SMS',
  },

  calendar: {
    title: 'Calendário',
    today: 'Hoje',
    week: 'Semana',
    month: 'Mês',
    agenda: 'Agenda',
    events: 'Eventos',
    matches: 'Partidas',
    practices: 'Treinos',
    tournaments: 'Torneios',
    noEvents: 'Nenhum evento agendado',
    addEvent: 'Adicionar Evento',
    viewDetails: 'Ver Detalhes',
    editEvent: 'Editar Evento',
    deleteEvent: 'Excluir Evento',
    upcomingEvents: 'Eventos Próximos',
    pastEvents: 'Eventos Passados',
    filterByType: 'Filtrar por Tipo',
    export: 'Exportar',
    sync: 'Sincronizar',
    refresh: 'Atualizar',
  },

  search: {
    title: 'Buscar',
    searchPlaceholder: 'Buscar jogadores, clubes, eventos...',
    recentSearches: 'Buscas Recentes',
    clearHistory: 'Limpar Histórico',
    noResults: 'Nenhum resultado encontrado',
    filters: 'Filtros',
    sort: 'Ordenar',
    relevance: 'Relevância',
    date: 'Data',
    distance: 'Distância',
    rating: 'Avaliação',
    players: 'Jogadores',
    clubs: 'Clubes',
    events: 'Eventos',
    matches: 'Partidas',
    all: 'Todos',
    viewAll: 'Ver Todos',
    suggestions: 'Sugestões',
    trending: 'Em Alta',
  },

  settings: {
    title: 'Configurações',
    account: 'Conta',
    profile: 'Perfil',
    privacy: 'Privacidade',
    notifications: 'Notificações',
    security: 'Segurança',
    language: 'Idioma',
    theme: 'Tema',
    help: 'Ajuda',
    about: 'Sobre',
    logout: 'Sair',
    deleteAccount: 'Excluir Conta',
    editProfile: 'Editar Perfil',
    changePassword: 'Mudar Senha',
    changeEmail: 'Mudar E-mail',
    manageSubscription: 'Gerenciar Assinatura',
    paymentMethods: 'Métodos de Pagamento',
    billingHistory: 'Histórico de Cobrança',
    dataSecurity: 'Segurança de Dados',
    twoFactorAuth: 'Autenticação em Dois Fatores',
    linkedAccounts: 'Contas Vinculadas',
    blockedUsers: 'Usuários Bloqueados',
    reportedContent: 'Conteúdo Reportado',
    termsOfService: 'Termos de Serviço',
    privacyPolicy: 'Política de Privacidade',
    contactSupport: 'Contatar Suporte',
    faq: 'Perguntas Frequentes',
    version: 'Versão',
    checkForUpdates: 'Verificar Atualizações',
  },

  profile: {
    title: 'Perfil',
    editProfile: 'Editar Perfil',
    viewProfile: 'Ver Perfil',
    matches: 'Partidas',
    wins: 'Vitórias',
    losses: 'Derrotas',
    winRate: 'Taxa de Vitórias',
    ranking: 'Classificação',
    level: 'Nível',
    achievements: 'Conquistas',
    trophies: 'Troféus',
    friends: 'Amigos',
    followers: 'Seguidores',
    following: 'Seguindo',
    clubs: 'Clubes',
    events: 'Eventos',
    bio: 'Bio',
    location: 'Localização',
    joined: 'Entrou em',
    lastActive: 'Última Atividade',
    playingStyle: 'Estilo de Jogo',
    preferredHand: 'Mão Preferida',
    favoritePlayer: 'Jogador Favorito',
    favoriteSurface: 'Superfície Favorita',
    availability: 'Disponibilidade',
    share: 'Compartilhar',
    report: 'Reportar',
    block: 'Bloquear',
    unblock: 'Desbloquear',
    follow: 'Seguir',
    unfollow: 'Deixar de Seguir',
    addFriend: 'Adicionar Amigo',
    removeFriend: 'Remover Amigo',
    sendMessage: 'Enviar Mensagem',
    challengeToMatch: 'Desafiar para Partida',
  },

  chat: {
    title: 'Chat',
    messages: 'Mensagens',
    conversations: 'Conversas',
    newMessage: 'Nova Mensagem',
    typeMessage: 'Digite uma mensagem...',
    send: 'Enviar',
    reply: 'Responder',
    forward: 'Encaminhar',
    delete: 'Excluir',
    edit: 'Editar',
    copy: 'Copiar',
    selectRecipient: 'Selecionar Destinatário',
    search: 'Buscar',
    online: 'Online',
    offline: 'Offline',
    typing: 'Digitando...',
    seen: 'Visto',
    delivered: 'Entregue',
    sent: 'Enviado',
    failed: 'Falhou',
    retry: 'Tentar Novamente',
    loadMore: 'Carregar Mais',
    noMessages: 'Nenhuma mensagem',
    startConversation: 'Iniciar Conversa',
    attachFile: 'Anexar Arquivo',
    attachPhoto: 'Anexar Foto',
    attachVideo: 'Anexar Vídeo',
    attachLocation: 'Anexar Localização',
    recordAudio: 'Gravar Áudio',
    emoji: 'Emoji',
    mute: 'Silenciar',
    unmute: 'Dessilenciar',
    archive: 'Arquivar',
    unarchive: 'Desarquivar',
    block: 'Bloquear',
    unblock: 'Desbloquear',
    report: 'Reportar',
    clearChat: 'Limpar Chat',
    deleteConversation: 'Excluir Conversa',
  },

  friends: {
    title: 'Amigos',
    allFriends: 'Todos os Amigos',
    requests: 'Solicitações',
    suggestions: 'Sugestões',
    findFriends: 'Encontrar Amigos',
    addFriend: 'Adicionar Amigo',
    removeFriend: 'Remover Amigo',
    accept: 'Aceitar',
    decline: 'Recusar',
    cancel: 'Cancelar',
    pending: 'Pendente',
    blocked: 'Bloqueado',
    noFriends: 'Nenhum amigo ainda',
    noRequests: 'Nenhuma solicitação',
    noSuggestions: 'Nenhuma sugestão',
    mutualFriends: 'Amigos em Comum',
    friendSince: 'Amigo desde',
    viewProfile: 'Ver Perfil',
    sendMessage: 'Enviar Mensagem',
    challengeToMatch: 'Desafiar para Partida',
    unfriend: 'Desfazer Amizade',
    blockUser: 'Bloquear Usuário',
    reportUser: 'Reportar Usuário',
    search: 'Buscar amigos...',
  },
};

// Apply remaining translations
const updatedPt = deepMerge(pt, remainingTranslations);

// Write updated pt.json
fs.writeFileSync(ptPath, JSON.stringify(updatedPt, null, 2) + '\n', 'utf8');

console.log('✅ Remaining translations applied!');
console.log('All major sections now translated to Brazilian Portuguese.');
