#!/usr/bin/env node

const fs = require('fs');
const path = require('path');

const enPath = path.join(__dirname, '../src/locales/en.json');
const ptPath = path.join(__dirname, '../src/locales/pt.json');

const en = JSON.parse(fs.readFileSync(enPath, 'utf8'));
const pt = JSON.parse(fs.readFileSync(ptPath, 'utf8'));

function deepMerge(target, source) {
  const output = { ...target };
  for (const key in source) {
    if (source[key] && typeof source[key] === 'object' && !Array.isArray(source[key])) {
      output[key] = deepMerge(target[key] || {}, source[key]);
    } else {
      output[key] = source[key];
    }
  }
  return output;
}

// Final comprehensive translations - ALL remaining sections
const finalTranslations = {
  // Any remaining createEvent keys
  createEvent: {
    allDay: 'Dia Inteiro',
    repeatEvent: 'Repetir Evento',
    customRecurrence: 'Recorrência Personalizada',
    endsNever: 'Nunca Termina',
    endsOn: 'Termina Em',
    endsAfter: 'Termina Após',
    occurrences: 'Ocorrências',
    weeklyOn: 'Semanalmente Em',
    monthlyOn: 'Mensalmente Em',
    yearlyOn: 'Anualmente Em',
    every: 'A Cada',
    day: 'Dia',
    week: 'Semana',
    month: 'Mês',
    year: 'Ano',
    monday: 'Segunda-feira',
    tuesday: 'Terça-feira',
    wednesday: 'Quarta-feira',
    thursday: 'Quinta-feira',
    friday: 'Sexta-feira',
    saturday: 'Sábado',
    sunday: 'Domingo',
    first: 'Primeiro',
    second: 'Segundo',
    third: 'Terceiro',
    fourth: 'Quarto',
    last: 'Último',
    inviteOnly: 'Somente com Convite',
    openToAll: 'Aberto a Todos',
    costPerPerson: 'Custo por Pessoa',
    freeEvent: 'Evento Gratuito',
  },

  // Any remaining types keys
  types: {
    singles: 'Simples',
    doubles: 'Duplas',
    mixed: 'Misto',
    mens: 'Masculino',
    womens: 'Feminino',
    juniors: 'Juvenil',
    seniors: 'Sênior',
    veterans: 'Veteranos',
    wheelchair: 'Cadeirante',
    recreational: 'Recreativo',
    competitive: 'Competitivo',
    beginner: 'Iniciante',
    intermediate: 'Intermediário',
    advanced: 'Avançado',
    expert: 'Especialista',
    professional: 'Profissional',
    amateur: 'Amador',
    casual: 'Casual',
    serious: 'Sério',
    friendly: 'Amistoso',
    ranked: 'Ranqueado',
    unranked: 'Não Ranqueado',
    indoor: 'Indoor',
    outdoor: 'Outdoor',
    hard: 'Quadra Dura',
    clay: 'Saibro',
    grass: 'Grama',
    carpet: 'Carpete',
    morning: 'Manhã',
    afternoon: 'Tarde',
    evening: 'Noite',
  },

  // Complete all other sections...
  common: {
    yes: 'Sim',
    no: 'Não',
    ok: 'OK',
    cancel: 'Cancelar',
    save: 'Salvar',
    delete: 'Excluir',
    edit: 'Editar',
    close: 'Fechar',
    back: 'Voltar',
    next: 'Próximo',
    previous: 'Anterior',
    confirm: 'Confirmar',
    submit: 'Enviar',
    apply: 'Aplicar',
    reset: 'Redefinir',
    clear: 'Limpar',
    search: 'Buscar',
    filter: 'Filtrar',
    sort: 'Ordenar',
    add: 'Adicionar',
    remove: 'Remover',
    update: 'Atualizar',
    refresh: 'Atualizar',
    loading: 'Carregando...',
    error: 'Erro',
    success: 'Sucesso',
    warning: 'Aviso',
    info: 'Informação',
    required: 'Obrigatório',
    optional: 'Opcional',
    select: 'Selecionar',
    selectAll: 'Selecionar Tudo',
    deselectAll: 'Desselecionar Tudo',
    none: 'Nenhum',
    all: 'Todos',
    more: 'Mais',
    less: 'Menos',
    viewMore: 'Ver Mais',
    viewLess: 'Ver Menos',
    showMore: 'Mostrar Mais',
    showLess: 'Mostrar Menos',
    loadMore: 'Carregar Mais',
    retry: 'Tentar Novamente',
    done: 'Concluído',
    finish: 'Finalizar',
    continue: 'Continuar',
    skip: 'Pular',
    download: 'Baixar',
    upload: 'Carregar',
    share: 'Compartilhar',
    copy: 'Copiar',
    paste: 'Colar',
    cut: 'Recortar',
    undo: 'Desfazer',
    redo: 'Refazer',
    print: 'Imprimir',
    export: 'Exportar',
    import: 'Importar',
  },

  errors: {
    generic: 'Ocorreu um erro',
    network: 'Erro de rede',
    timeout: 'Tempo limite excedido',
    unauthorized: 'Não autorizado',
    forbidden: 'Proibido',
    notFound: 'Não encontrado',
    serverError: 'Erro do servidor',
    invalidInput: 'Entrada inválida',
    requiredField: 'Campo obrigatório',
    invalidEmail: 'E-mail inválido',
    invalidPhone: 'Telefone inválido',
    passwordTooShort: 'Senha muito curta',
    passwordMismatch: 'Senhas não coincidem',
    uploadFailed: 'Falha no upload',
    downloadFailed: 'Falha no download',
    saveFailed: 'Falha ao salvar',
    deleteFailed: 'Falha ao excluir',
    updateFailed: 'Falha ao atualizar',
    loadFailed: 'Falha ao carregar',
    connectionLost: 'Conexão perdida',
    tryAgain: 'Tente novamente',
    contactSupport: 'Contate o suporte',
  },

  validation: {
    required: 'Este campo é obrigatório',
    minLength: 'Mínimo de {{min}} caracteres',
    maxLength: 'Máximo de {{max}} caracteres',
    min: 'Valor mínimo: {{min}}',
    max: 'Valor máximo: {{max}}',
    email: 'E-mail inválido',
    phone: 'Número de telefone inválido',
    url: 'URL inválida',
    date: 'Data inválida',
    time: 'Horário inválido',
    number: 'Deve ser um número',
    integer: 'Deve ser um número inteiro',
    positive: 'Deve ser positivo',
    negative: 'Deve ser negativo',
    between: 'Deve estar entre {{min}} e {{max}}',
    alphanumeric: 'Somente letras e números',
    alpha: 'Somente letras',
    numeric: 'Somente números',
    match: 'Os campos não coincidem',
    unique: 'Este valor já existe',
    password: 'Senha muito fraca',
    passwordStrength:
      'A senha deve conter letras maiúsculas, minúsculas, números e caracteres especiais',
  },

  time: {
    second: 'segundo',
    seconds: 'segundos',
    minute: 'minuto',
    minutes: 'minutos',
    hour: 'hora',
    hours: 'horas',
    day: 'dia',
    days: 'dias',
    week: 'semana',
    weeks: 'semanas',
    month: 'mês',
    months: 'meses',
    year: 'ano',
    years: 'anos',
    ago: 'atrás',
    justNow: 'Agora mesmo',
    inFuture: 'Daqui a',
    yesterday: 'Ontem',
    today: 'Hoje',
    tomorrow: 'Amanhã',
    lastWeek: 'Semana passada',
    thisWeek: 'Esta semana',
    nextWeek: 'Próxima semana',
    lastMonth: 'Mês passado',
    thisMonth: 'Este mês',
    nextMonth: 'Próximo mês',
    lastYear: 'Ano passado',
    thisYear: 'Este ano',
    nextYear: 'Próximo ano',
  },

  months: {
    january: 'Janeiro',
    february: 'Fevereiro',
    march: 'Março',
    april: 'Abril',
    may: 'Maio',
    june: 'Junho',
    july: 'Julho',
    august: 'Agosto',
    september: 'Setembro',
    october: 'Outubro',
    november: 'Novembro',
    december: 'Dezembro',
    jan: 'Jan',
    feb: 'Fev',
    mar: 'Mar',
    apr: 'Abr',
    may_short: 'Mai',
    jun: 'Jun',
    jul: 'Jul',
    aug: 'Ago',
    sep: 'Set',
    oct: 'Out',
    nov: 'Nov',
    dec: 'Dez',
  },

  days: {
    monday: 'Segunda-feira',
    tuesday: 'Terça-feira',
    wednesday: 'Quarta-feira',
    thursday: 'Quinta-feira',
    friday: 'Sexta-feira',
    saturday: 'Sábado',
    sunday: 'Domingo',
    mon: 'Seg',
    tue: 'Ter',
    wed: 'Qua',
    thu: 'Qui',
    fri: 'Sex',
    sat: 'Sáb',
    sun: 'Dom',
  },
};

// Apply final translations
const finalPt = deepMerge(pt, finalTranslations);

// Write final pt.json
fs.writeFileSync(ptPath, JSON.stringify(finalPt, null, 2) + '\n', 'utf8');

console.log('✅ Final translation batch complete!');
console.log('Portuguese translation file updated with comprehensive coverage.');
