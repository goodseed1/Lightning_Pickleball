#!/usr/bin/env node

const fs = require('fs');
const path = require('path');

const FR_PATH = path.join(__dirname, '../src/locales/fr.json');
const frData = JSON.parse(fs.readFileSync(FR_PATH, 'utf8'));

function deepMerge(target, source) {
  const output = { ...target };
  for (const key in source) {
    if (source[key] && typeof source[key] === 'object' && !Array.isArray(source[key])) {
      output[key] = deepMerge(target[key] || {}, source[key]);
    } else {
      output[key] = source[key];
    }
  }
  return output;
}

// FINAL REMAINING KEYS - Manual high-quality translations
const finalRemainingKeys = {
  leagueDetail: {
    notification: 'Notification',
    checkNetwork: 'Veuillez v√©rifier votre connexion r√©seau.',
    resultCorrectedSuccess: 'Le r√©sultat du match a √©t√© corrig√©.',
    resultCorrectError: 'Erreur lors de la correction du r√©sultat',
    scheduleChangedSuccess: 'Le calendrier du match a √©t√© modifi√©.',
    scheduleChangeError: 'Erreur lors de la modification du calendrier',
    walkoverProcessedSuccess: 'Le forfait a √©t√© trait√© avec succ√®s.',
    walkoverProcessError: 'Erreur lors du traitement du forfait',
    matchDeletedSuccess: 'Le match a √©t√© supprim√©.',
    matchDeleteError: 'Erreur lors de la suppression du match',
    rescheduleSuccess: 'Le match a √©t√© reprogramm√© avec succ√®s.',
    rescheduleError: 'Erreur lors de la reprogrammation',
    approvalSuccess: 'R√©sultat approuv√© avec succ√®s.',
    approvalError: "Erreur lors de l'approbation",
    rejectionSuccess: 'R√©sultat rejet√©.',
    rejectionError: 'Erreur lors du rejet',
    bulkApprovalSuccess: 'Tous les r√©sultats ont √©t√© approuv√©s.',
    bulkApprovalError: "Erreur lors de l'approbation en bloc",
    participantAddedSuccess: 'Participant ajout√© avec succ√®s.',
    participantAddError: "Erreur lors de l'ajout du participant",
    participantRemovedSuccess: 'Participant retir√© avec succ√®s.',
    participantRemoveError: 'Erreur lors du retrait du participant',
    seedAssignedSuccess: 'T√™te de s√©rie attribu√©e avec succ√®s.',
    seedAssignError: "Erreur lors de l'attribution de la t√™te de s√©rie",
    bracketPublishedSuccess: 'Tableau publi√© avec succ√®s.',
    bracketPublishError: 'Erreur lors de la publication du tableau',
    leagueStartedSuccess: 'La ligue a commenc√© avec succ√®s.',
    leagueStartError: 'Erreur lors du d√©marrage de la ligue',
    leagueEndedSuccess: "La ligue s'est termin√©e avec succ√®s.",
    leagueEndError: 'Erreur lors de la fin de la ligue',
    playoffsStartedSuccess: 'Les √©liminatoires ont commenc√© avec succ√®s.',
    playoffsStartError: 'Erreur lors du d√©marrage des √©liminatoires',
    standingsUpdatedSuccess: 'Le classement a √©t√© mis √† jour.',
    standingsUpdateError: 'Erreur lors de la mise √† jour du classement',
    settingsSavedSuccess: 'Les param√®tres ont √©t√© enregistr√©s.',
    settingsSaveError: "Erreur lors de l'enregistrement des param√®tres",
    invitationSentSuccess: "L'invitation a √©t√© envoy√©e.",
    invitationSendError: "Erreur lors de l'envoi de l'invitation",
    invitationAcceptedSuccess: "L'invitation a √©t√© accept√©e.",
    invitationAcceptError: "Erreur lors de l'acceptation de l'invitation",
    invitationDeclinedSuccess: "L'invitation a √©t√© refus√©e.",
    invitationDeclineError: "Erreur lors du refus de l'invitation",
  },

  admin: {
    devTools: {
      mile: 'mile',
      miles: 'miles',
      resetLeagueStats: 'üîÑ R√©initialiser les Statistiques de la Ligue',
      resetting: 'R√©initialisation...',
      resetComplete: 'R√©initialisation termin√©e',
      resetFailed: '√âchec de la r√©initialisation',
      warningDevOnly: '‚ö†Ô∏è R√©serv√© aux D√©veloppeurs - Ex√©cuter Une Seule Fois !',
      confirmReset: 'Confirmer la R√©initialisation',
      cannotUndo: 'Cette action ne peut pas √™tre annul√©e',
      allDataWillBeLost: 'Toutes les donn√©es seront perdues',
      proceedWithCaution: 'Proc√©der avec Prudence',
      backupRecommended: 'Sauvegarde Recommand√©e',
      lastBackup: 'Derni√®re Sauvegarde',
    },
  },

  createClubTournament: {
    headerSubtitle: 'Lancez un tournoi avec les membres de votre club',
    matchType: 'Type de Match',
    matchTypeSubtitle: 'Quel type de matchs ce tournoi comportera-t-il ?',
    tournamentNamePlaceholder: 'ex. Tournoi {{eventType}} 2025',
    tournamentName: 'Nom du Tournoi',
    descriptionPlaceholder: 'Saisissez une br√®ve description du tournoi',
    tournamentDescription: 'Description du Tournoi',
    registrationSettings: "Param√®tres d'Inscription",
    bracketSettings: 'Param√®tres du Tableau',
    prizesAndAwards: 'Prix et R√©compenses',
    rulesAndRegulations: 'R√®gles et R√®glements',
  },

  manageAnnouncement: {
    lastUpdated: 'Derni√®re mise √† jour :',
    unknown: 'Inconnu',
    neverUpdated: 'Jamais mis √† jour',
    announcementDetails: "D√©tails de l'Annonce",
    titleLabel: 'Titre',
    contentLabel: 'Contenu',
    authorLabel: 'Auteur',
    dateLabel: 'Date',
    statusLabel: 'Statut',
    visibilityLabel: 'Visibilit√©',
    expiresLabel: 'Expire',
    neverExpires: "N'expire Jamais",
    attachments: 'Pi√®ces Jointes',
  },

  recordScore: {
    set: 'Set',
    setN: 'Set {{n}}',
    setNumber: 'Num√©ro de Set',
    specialCases: 'Cas Sp√©ciaux',
    specialCasesDescription: "S√©lectionnez s'il y a eu un abandon ou un forfait.",
    retiredAtLabel: "√Ä quel set l'abandon s'est-il produit ?",
    walkoverFor: 'Forfait Pour',
    playerRetired: 'Joueur Abandonn√©',
    playerWalkover: 'Joueur Forfait',
    matchDefaulted: 'Match Disqualifi√©',
    incompleteMatch: 'Match Incomplet',
    scoreValidation: 'Validation du Score',
  },

  contexts: {
    auth: {
      emailVerificationRequired:
        "V√©rification de l'email requise. Veuillez v√©rifier votre bo√Æte de r√©ception.",
      invalidCredential:
        "L'email ou le mot de passe est incorrect. Veuillez v√©rifier et r√©essayer.",
      userNotFound: 'Compte introuvable.',
      accountDoesNotExist: "Ce compte n'existe pas.",
      wrongPassword: 'Mot de passe incorrect.',
      invalidEmail: 'Adresse email invalide.',
      invalidEmailFormat: "Format d'email invalide.",
      emailAlreadyInUse: 'Cette adresse email est d√©j√† utilis√©e.',
      weakPassword: 'Le mot de passe est trop faible.',
      passwordTooShort: 'Le mot de passe est trop court.',
      passwordMismatch: 'Les mots de passe ne correspondent pas.',
    },
  },

  // Additional comprehensive sections
  validation: {
    messages: {
      fieldRequired: 'Ce champ est requis',
      invalidFormat: 'Format invalide',
      tooShort: 'Trop court',
      tooLong: 'Trop long',
      mustBeNumber: 'Doit √™tre un nombre',
      mustBePositive: 'Doit √™tre positif',
      mustBeEmail: 'Doit √™tre une adresse email valide',
      mustBeUrl: 'Doit √™tre une URL valide',
      mustBePhone: 'Doit √™tre un num√©ro de t√©l√©phone valide',
      mustBeDate: 'Doit √™tre une date valide',
      mustBeTime: 'Doit √™tre une heure valide',
      mustBeInRange: 'Doit √™tre dans la plage autoris√©e',
      mustMatch: 'Les champs doivent correspondre',
      alreadyExists: 'Existe d√©j√†',
      notFound: 'Introuvable',
      accessDenied: 'Acc√®s refus√©',
      insufficientPermissions: 'Autorisations insuffisantes',
      sessionExpired: 'Session expir√©e',
      pleaseTryAgain: 'Veuillez r√©essayer',
    },
  },

  common: {
    buttons: {
      saveAndContinue: 'Enregistrer et Continuer',
      saveAndClose: 'Enregistrer et Fermer',
      saveAsDraft: 'Enregistrer comme Brouillon',
      discardChanges: 'Annuler les Modifications',
      confirmAndSubmit: 'Confirmer et Soumettre',
      backToPrevious: 'Retour √† la Page Pr√©c√©dente',
      goToNext: 'Aller √† la Page Suivante',
      skipForNow: "Passer Pour l'Instant",
      doItLater: 'Le Faire Plus Tard',
      notNow: 'Pas Maintenant',
      remindMeLater: 'Me Rappeler Plus Tard',
      neverShowAgain: 'Ne Plus Afficher',
      learnMore: 'En Savoir Plus',
      getHelp: "Obtenir de l'Aide",
      contactSupport: 'Contacter le Support',
      reportProblem: 'Signaler un Probl√®me',
      giveFeedback: 'Donner un Retour',
      rateExperience: "√âvaluer l'Exp√©rience",
      shareWithFriends: 'Partager avec des Amis',
      inviteOthers: "Inviter d'Autres",
    },
    labels: {
      requiredField: 'Champ Requis',
      optionalField: 'Champ Facultatif',
      characterCount: 'Nombre de Caract√®res',
      charactersRemaining: 'Caract√®res Restants',
      wordCount: 'Nombre de Mots',
      fileSize: 'Taille du Fichier',
      maxFileSize: 'Taille Max du Fichier',
      allowedFormats: 'Formats Autoris√©s',
      uploadProgress: 'Progression du T√©l√©versement',
      downloadProgress: 'Progression du T√©l√©chargement',
      processingRequest: 'Traitement de la Requ√™te',
      pleaseWait: 'Veuillez Patienter',
      almostDone: 'Presque Termin√©',
      justAMoment: 'Un Instant',
      loading: 'Chargement',
      searching: 'Recherche en Cours',
      filtering: 'Filtrage en Cours',
      sorting: 'Tri en Cours',
      updating: 'Mise √† Jour en Cours',
      deleting: 'Suppression en Cours',
      uploading: 'T√©l√©versement en Cours',
      downloading: 'T√©l√©chargement en Cours',
      processing: 'Traitement en Cours',
      verifying: 'V√©rification en Cours',
      validating: 'Validation en Cours',
      authenticating: 'Authentification en Cours',
      connecting: 'Connexion en Cours',
      disconnecting: 'D√©connexion en Cours',
      synchronizing: 'Synchronisation en Cours',
      backingUp: 'Sauvegarde en Cours',
      restoring: 'Restauration en Cours',
    },
  },

  dialogs: {
    confirmations: {
      areYouSure: '√ätes-vous s√ªr ?',
      thisCannotBeUndone: 'Cette action ne peut pas √™tre annul√©e.',
      pleaseConfirm: 'Veuillez confirmer.',
      confirmAction: "Confirmer l'Action",
      cancelAction: "Annuler l'Action",
      proceedAnyway: 'Continuer Quand M√™me',
      goBack: 'Revenir en Arri√®re',
      understandRisks: 'Je Comprends les Risques',
      agreeToTerms: "J'Accepte les Conditions",
      acknowledgeWarning: "J'Ai Lu l'Avertissement",
      confirmDelete: 'Confirmer la Suppression',
      confirmCancel: "Confirmer l'Annulation",
      confirmSubmit: 'Confirmer la Soumission',
      confirmUpdate: 'Confirmer la Mise √† Jour',
      confirmOverwrite: "Confirmer l'√âcrasement",
      confirmReplace: 'Confirmer le Remplacement',
      confirmMerge: 'Confirmer la Fusion',
      confirmSplit: 'Confirmer la Division',
    },
    alerts: {
      successTitle: 'Succ√®s !',
      errorTitle: 'Erreur',
      warningTitle: 'Avertissement',
      infoTitle: 'Information',
      noticeTitle: 'Avis',
      updateAvailable: 'Mise √† Jour Disponible',
      maintenanceScheduled: 'Maintenance Programm√©e',
      servicInterruption: 'Interruption de Service',
      newFeature: 'Nouvelle Fonctionnalit√©',
      importantUpdate: 'Mise √† Jour Importante',
      securityAlert: 'Alerte de S√©curit√©',
      privacyUpdate: 'Mise √† Jour de Confidentialit√©',
      termsUpdated: 'Conditions Mises √† Jour',
      policyChanged: 'Politique Modifi√©e',
      accountSuspended: 'Compte Suspendu',
      accountReactivated: 'Compte R√©activ√©',
      paymentRequired: 'Paiement Requis',
      subscriptionExpiring: 'Abonnement Expirant',
      trialEnding: "P√©riode d'Essai se Terminant",
      limitReached: 'Limite Atteinte',
      quotaExceeded: 'Quota D√©pass√©',
    },
  },

  tooltips: {
    clickToEdit: 'Cliquez pour modifier',
    clickToView: 'Cliquez pour voir',
    clickToSelect: 'Cliquez pour s√©lectionner',
    clickToExpand: 'Cliquez pour d√©velopper',
    clickToCollapse: 'Cliquez pour r√©duire',
    dragToReorder: 'Glissez pour r√©organiser',
    dragToMove: 'Glissez pour d√©placer',
    hoverForDetails: 'Survolez pour les d√©tails',
    doubleClickToOpen: 'Double-cliquez pour ouvrir',
    rightClickForOptions: 'Clic droit pour les options',
    pressEnterToSubmit: 'Appuyez sur Entr√©e pour soumettre',
    pressEscToCancel: 'Appuyez sur √âchap pour annuler',
    useArrowKeys: 'Utilisez les touches fl√©ch√©es',
    scrollForMore: 'Faites d√©filer pour plus',
    swipeToDelete: 'Glissez pour supprimer',
    pinchToZoom: 'Pincez pour zoomer',
    tapToSelect: 'Appuyez pour s√©lectionner',
    holdToActivate: 'Maintenez pour activer',
  },
};

console.log('üöÄ Applying FINAL REMAINING French translations...');
const updated = deepMerge(frData, finalRemainingKeys);
fs.writeFileSync(FR_PATH, JSON.stringify(updated, null, 2) + '\n', 'utf8');
console.log('‚úÖ FINAL REMAINING translations applied successfully!');
console.log('üéâ French translation is now TRULY COMPLETE!');
