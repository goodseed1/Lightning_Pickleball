#!/usr/bin/env node

const fs = require('fs');
const path = require('path');

const DE_PATH = path.join(__dirname, '../src/locales/de.json');
const de = JSON.parse(fs.readFileSync(DE_PATH, 'utf8'));

// Targeted translations for remaining sections
const manualTranslations = {
  alerts: {
    limitMessage:
      'Jeder Benutzer kann maximal {{max}} Vereine erstellen.\n\nSie besitzen derzeit {{current}} Verein(e).\n\nUm weitere Vereine zu erstellen, kontaktieren Sie bitte den Administrator √ºber den KI-Assistenten-Chatbot unten in der App.',
    saveSuccess: '‚úÖ Gespeichert!',
    saveSuccessMessage: 'Die Informationen des Vereins {{name}} wurden gespeichert.',
    createSuccessMessage: 'Der Verein {{name}} wurde erfolgreich erstellt.',
    promoteSuccess: 'Erfolgreich zum Manager bef√∂rdert.',
    demoteSuccess: 'Erfolgreich zum Mitglied degradiert.',
    actionError: 'Beim Ausf√ºhren der Aktion ist ein Fehler aufgetreten.',
    permissionDenied: 'Zugriff verweigert. Nur Administratoren k√∂nnen diese Aktion ausf√ºhren.',
    cannotRemoveSelf: 'Sie k√∂nnen sich nicht selbst entfernen.',
    cannotRemoveOwner: 'Der Vereinsbesitzer kann nicht entfernt werden.',
    removeSuccess: 'Erfolgreich entfernt.',
    removeFailed: 'Entfernen fehlgeschlagen.',
    updateSuccess: 'Erfolgreich aktualisiert.',
    updateFailed: 'Aktualisierung fehlgeschlagen.',
    deleteSuccess: 'Erfolgreich gel√∂scht.',
    deleteFailed: 'L√∂schen fehlgeschlagen.',
    confirmDelete: 'Sind Sie sicher, dass Sie l√∂schen m√∂chten?',
    confirmLeave: 'Sind Sie sicher, dass Sie verlassen m√∂chten?',
    confirmAction: 'Sind Sie sicher?',
    networkError: 'Netzwerkfehler. Bitte √ºberpr√ºfen Sie Ihre Verbindung.',
    serverError: 'Serverfehler. Bitte versuchen Sie es sp√§ter erneut.',
    invalidData: 'Ung√ºltige Daten.',
    requiredField: 'Dieses Feld ist erforderlich.',
    invalidEmail: 'Ung√ºltige E-Mail-Adresse.',
    invalidPhone: 'Ung√ºltige Telefonnummer.',
    passwordTooShort: 'Passwort ist zu kurz.',
    passwordsDoNotMatch: 'Passw√∂rter stimmen nicht √ºberein.',
    accountCreated: 'Konto erfolgreich erstellt!',
    loginSuccess: 'Erfolgreich angemeldet!',
    logoutSuccess: 'Erfolgreich abgemeldet!',
    emailSent: 'E-Mail gesendet!',
    emailFailed: 'E-Mail-Versand fehlgeschlagen.',
    invitationSent: 'Einladung gesendet!',
    invitationFailed: 'Einladung fehlgeschlagen.',
    requestSent: 'Anfrage gesendet!',
    requestFailed: 'Anfrage fehlgeschlagen.',
    acceptedRequest: 'Anfrage angenommen.',
    rejectedRequest: 'Anfrage abgelehnt.',
    joinedClub: 'Verein beigetreten!',
    leftClub: 'Verein verlassen.',
    memberAdded: 'Mitglied hinzugef√ºgt.',
    memberRemoved: 'Mitglied entfernt.',
    roleUpdated: 'Rolle aktualisiert.',
    settingsSaved: 'Einstellungen gespeichert.',
    profileUpdated: 'Profil aktualisiert.',
    photoUploaded: 'Foto hochgeladen.',
    photoFailed: 'Foto-Upload fehlgeschlagen.',
    eventCreated: 'Event erstellt!',
    eventUpdated: 'Event aktualisiert.',
    eventCancelled: 'Event abgesagt.',
    registeredForEvent: 'F√ºr Event angemeldet!',
    unregisteredFromEvent: 'Von Event abgemeldet.',
    paymentSuccess: 'Zahlung erfolgreich!',
    paymentFailed: 'Zahlung fehlgeschlagen.',
    subscriptionActive: 'Abonnement aktiv.',
    subscriptionExpired: 'Abonnement abgelaufen.',
    trialEnded: 'Testzeitraum beendet.',
    upgradeRequired: 'Upgrade erforderlich.',
    featureNotAvailable: 'Funktion nicht verf√ºgbar.',
  },

  leagueDetail: {
    title: 'Liga-Details',
    overview: '√úberblick',
    standings: 'Tabelle',
    schedule: 'Spielplan',
    matches: 'Matches',
    participants: 'Teilnehmer',
    rules: 'Regeln',
    settings: 'Einstellungen',
    chat: 'Chat',
    info: 'Informationen',
    name: 'Liga-Name',
    type: 'Typ',
    format: 'Format',
    season: 'Saison',
    status: 'Status',
    startDate: 'Startdatum',
    endDate: 'Enddatum',
    registrationDeadline: 'Anmeldefrist',
    maxParticipants: 'Max. Teilnehmer',
    currentParticipants: 'Aktuelle Teilnehmer',
    entryFee: 'Startgeld',
    prizePool: 'Preispool',
    organizer: 'Veranstalter',
    description: 'Beschreibung',
    venue: 'Austragungsort',
    skillLevel: 'Spielst√§rke',
    register: 'Anmelden',
    unregister: 'Abmelden',
    registered: 'Angemeldet',
    join: 'Beitreten',
    leave: 'Verlassen',
    viewStandings: 'Tabelle ansehen',
    viewSchedule: 'Spielplan ansehen',
    viewMatches: 'Matches ansehen',
    rank: 'Rang',
    player: 'Spieler',
    team: 'Team',
    wins: 'Siege',
    losses: 'Niederlagen',
    draws: 'Unentschieden',
    points: 'Punkte',
    played: 'Gespielt',
    winRate: 'Siegquote',
    form: 'Form',
    upcoming: 'Anstehend',
    completed: 'Abgeschlossen',
    round: 'Runde',
    date: 'Datum',
    time: 'Uhrzeit',
    court: 'Platz',
    score: 'Ergebnis',
    noMatches: 'Keine Matches',
    noParticipants: 'Keine Teilnehmer',
  },

  errors: {
    network: 'Netzwerkfehler',
    server: 'Serverfehler',
    timeout: 'Zeit√ºberschreitung',
    notFound: 'Nicht gefunden',
    unauthorized: 'Nicht autorisiert',
    forbidden: 'Verboten',
    badRequest: 'Ung√ºltige Anfrage',
    conflict: 'Konflikt',
    unknown: 'Unbekannter Fehler',
    invalidInput: 'Ung√ºltige Eingabe',
    invalidEmail: 'Ung√ºltige E-Mail',
    invalidPassword: 'Ung√ºltiges Passwort',
    invalidPhone: 'Ung√ºltige Telefonnummer',
    invalidDate: 'Ung√ºltiges Datum',
    invalidTime: 'Ung√ºltige Uhrzeit',
    invalidFormat: 'Ung√ºltiges Format',
    tooShort: 'Zu kurz',
    tooLong: 'Zu lang',
    tooSmall: 'Zu klein',
    tooLarge: 'Zu gro√ü',
    required: 'Erforderlich',
    mustMatch: 'Muss √ºbereinstimmen',
    alreadyExists: 'Existiert bereits',
    notAvailable: 'Nicht verf√ºgbar',
    expired: 'Abgelaufen',
    invalidCredentials: 'Ung√ºltige Anmeldedaten',
    sessionExpired: 'Sitzung abgelaufen',
    accountLocked: 'Konto gesperrt',
    accountSuspended: 'Konto suspendiert',
    accountDeleted: 'Konto gel√∂scht',
    emailNotVerified: 'E-Mail nicht verifiziert',
    phoneNotVerified: 'Telefon nicht verifiziert',
    permissionDenied: 'Zugriff verweigert',
    quotaExceeded: 'Kontingent √ºberschritten',
    rateLimitExceeded: 'Ratenlimit √ºberschritten',
    maintenanceMode: 'Wartungsmodus',
    serviceUnavailable: 'Service nicht verf√ºgbar',
    databaseError: 'Datenbankfehler',
    fileNotFound: 'Datei nicht gefunden',
    fileTooLarge: 'Datei zu gro√ü',
    unsupportedFileType: 'Nicht unterst√ºtzter Dateityp',
    uploadFailed: 'Upload fehlgeschlagen',
    downloadFailed: 'Download fehlgeschlagen',
    processingFailed: 'Verarbeitung fehlgeschlagen',
    operationFailed: 'Operation fehlgeschlagen',
    tryAgain: 'Bitte erneut versuchen',
  },

  validation: {
    required: 'Erforderlich',
    invalid: 'Ung√ºltig',
    tooShort: 'Zu kurz',
    tooLong: 'Zu lang',
    min: 'Minimum',
    max: 'Maximum',
    minLength: 'Mindestl√§nge',
    maxLength: 'Maximall√§nge',
    minValue: 'Mindestwert',
    maxValue: 'Maximalwert',
    pattern: 'Muster',
    email: 'E-Mail',
    phone: 'Telefon',
    url: 'URL',
    date: 'Datum',
    time: 'Uhrzeit',
    number: 'Zahl',
    integer: 'Ganzzahl',
    decimal: 'Dezimalzahl',
    positive: 'Positiv',
    negative: 'Negativ',
    range: 'Bereich',
    mustMatch: 'Muss √ºbereinstimmen',
    mustNotMatch: 'Darf nicht √ºbereinstimmen',
    unique: 'Eindeutig',
    exists: 'Existiert',
    notExists: 'Existiert nicht',
    alphanumeric: 'Alphanumerisch',
    alphabetic: 'Alphabetisch',
    numeric: 'Numerisch',
    lowercase: 'Kleinbuchstaben',
    uppercase: 'Gro√übuchstaben',
    contains: 'Enth√§lt',
    notContains: 'Enth√§lt nicht',
    startsWith: 'Beginnt mit',
    endsWith: 'Endet mit',
    regex: 'Regul√§rer Ausdruck',
    custom: 'Benutzerdefiniert',
    invalidFormat: 'Ung√ºltiges Format',
    invalidValue: 'Ung√ºltiger Wert',
    outOfRange: 'Au√üerhalb des Bereichs',
    notAllowed: 'Nicht erlaubt',
    alreadyTaken: 'Bereits vergeben',
    notAvailable: 'Nicht verf√ºgbar',
    expired: 'Abgelaufen',
    future: 'Zukunft',
    past: 'Vergangenheit',
  },

  logs: {
    title: 'Protokolle',
    view: 'Protokolle ansehen',
    clear: 'Protokolle l√∂schen',
    export: 'Protokolle exportieren',
    filter: 'Protokolle filtern',
    search: 'Protokolle durchsuchen',
    timestamp: 'Zeitstempel',
    level: 'Stufe',
    message: 'Nachricht',
    details: 'Details',
    user: 'Benutzer',
    action: 'Aktion',
    resource: 'Ressource',
    result: 'Ergebnis',
    duration: 'Dauer',
    error: 'Fehler',
    warning: 'Warnung',
    info: 'Info',
    debug: 'Debug',
    trace: 'Trace',
    success: 'Erfolg',
    failure: 'Fehler',
    pending: 'Ausstehend',
    noLogs: 'Keine Protokolle',
    loadMore: 'Mehr laden',
    refresh: 'Aktualisieren',
    autoRefresh: 'Auto-Aktualisierung',
    download: 'Herunterladen',
    print: 'Drucken',
    share: 'Teilen',
    delete: 'L√∂schen',
    confirmDelete: 'Protokolle wirklich l√∂schen?',
    deleted: 'Protokolle gel√∂scht',
    exported: 'Protokolle exportiert',
  },

  settings: {
    title: 'Einstellungen',
    general: 'Allgemein',
    account: 'Konto',
    profile: 'Profil',
    privacy: 'Datenschutz',
    security: 'Sicherheit',
    notifications: 'Benachrichtigungen',
    preferences: 'Einstellungen',
    appearance: 'Erscheinungsbild',
    language: 'Sprache',
    theme: 'Design',
    units: 'Einheiten',
    timezone: 'Zeitzone',
    dateFormat: 'Datumsformat',
    timeFormat: 'Zeitformat',
    currency: 'W√§hrung',
    accessibility: 'Barrierefreiheit',
    advanced: 'Erweitert',
    developer: 'Entwickler',
    about: '√úber',
    help: 'Hilfe',
    support: 'Support',
    feedback: 'Feedback',
    legal: 'Rechtliches',
    terms: 'AGB',
    privacyPolicy: 'Datenschutz',
  },

  weather: {
    title: 'Wetter',
    current: 'Aktuell',
    forecast: 'Vorhersage',
    hourly: 'St√ºndlich',
    daily: 'T√§glich',
    temperature: 'Temperatur',
    feelsLike: 'Gef√ºhlte Temperatur',
    humidity: 'Luftfeuchtigkeit',
    windSpeed: 'Windgeschwindigkeit',
    windDirection: 'Windrichtung',
    pressure: 'Luftdruck',
    visibility: 'Sichtweite',
    uvIndex: 'UV-Index',
    sunrise: 'Sonnenaufgang',
    sunset: 'Sonnenuntergang',
    clear: 'Klar',
    cloudy: 'Bew√∂lkt',
    partlyCloudy: 'Teilweise bew√∂lkt',
    overcast: 'Bedeckt',
    rain: 'Regen',
    drizzle: 'Nieselregen',
    thunderstorm: 'Gewitter',
    snow: 'Schnee',
    fog: 'Nebel',
    windy: 'Windig',
    hot: 'Hei√ü',
    cold: 'Kalt',
    mild: 'Mild',
    pleasant: 'Angenehm',
  },

  days: {
    monday: 'Montag',
    tuesday: 'Dienstag',
    wednesday: 'Mittwoch',
    thursday: 'Donnerstag',
    friday: 'Freitag',
    saturday: 'Samstag',
    sunday: 'Sonntag',
    mon: 'Mo',
    tue: 'Di',
    wed: 'Mi',
    thu: 'Do',
    fri: 'Fr',
    sat: 'Sa',
    sun: 'So',
    weekday: 'Wochentag',
    weekend: 'Wochenende',
    today: 'Heute',
    tomorrow: 'Morgen',
    yesterday: 'Gestern',
  },

  devTools: {
    title: 'Entwicklertools',
    console: 'Konsole',
    network: 'Netzwerk',
    storage: 'Speicher',
    database: 'Datenbank',
    performance: 'Leistung',
    profiler: 'Profiler',
    debugger: 'Debugger',
    inspector: 'Inspector',
    logs: 'Protokolle',
    errors: 'Fehler',
    warnings: 'Warnungen',
    settings: 'Einstellungen',
    clear: 'L√∂schen',
    export: 'Exportieren',
    import: 'Importieren',
    refresh: 'Aktualisieren',
    enable: 'Aktivieren',
    disable: 'Deaktivieren',
    advanced: 'Erweitert',
    experimental: 'Experimentell',
    debug: 'Debug',
  },

  conditions: {
    title: 'Bedingungen',
    good: 'Gut',
    fair: 'Befriedigend',
    poor: 'Schlecht',
    excellent: 'Ausgezeichnet',
    acceptable: 'Akzeptabel',
    unacceptable: 'Inakzeptabel',
    optimal: 'Optimal',
    suboptimal: 'Suboptimal',
    ideal: 'Ideal',
    suitable: 'Geeignet',
    unsuitable: 'Ungeeignet',
    favorable: 'G√ºnstig',
    unfavorable: 'Ung√ºnstig',
    safe: 'Sicher',
    unsafe: 'Unsicher',
    dry: 'Trocken',
    wet: 'Nass',
    slippery: 'Rutschig',
    playable: 'Bespielbar',
    unplayable: 'Unbespielbar',
  },

  status: {
    active: 'Aktiv',
    inactive: 'Inaktiv',
    pending: 'Ausstehend',
    approved: 'Genehmigt',
    rejected: 'Abgelehnt',
    cancelled: 'Abgesagt',
    completed: 'Abgeschlossen',
    inProgress: 'In Bearbeitung',
    scheduled: 'Geplant',
    confirmed: 'Best√§tigt',
    unconfirmed: 'Unbest√§tigt',
    available: 'Verf√ºgbar',
    unavailable: 'Nicht verf√ºgbar',
    open: 'Offen',
    closed: 'Geschlossen',
    published: 'Ver√∂ffentlicht',
    draft: 'Entwurf',
    archived: 'Archiviert',
    deleted: 'Gel√∂scht',
    suspended: 'Suspendiert',
    expired: 'Abgelaufen',
  },

  messages: {
    noData: 'Keine Daten',
    noResults: 'Keine Ergebnisse',
    noItems: 'Keine Elemente',
    noRecords: 'Keine Datens√§tze',
    noMatches: 'Keine √úbereinstimmungen',
    noContent: 'Kein Inhalt',
    empty: 'Leer',
    loading: 'L√§dt...',
    saving: 'Speichert...',
    processing: 'Verarbeitet...',
    uploading: 'L√§dt hoch...',
    downloading: 'L√§dt herunter...',
    searching: 'Sucht...',
    filtering: 'Filtert...',
    sorting: 'Sortiert...',
    deleting: 'L√∂scht...',
    updating: 'Aktualisiert...',
    creating: 'Erstellt...',
    pleaseWait: 'Bitte warten...',
    success: 'Erfolg!',
    failed: 'Fehlgeschlagen!',
    error: 'Fehler!',
    warning: 'Warnung!',
    info: 'Info!',
    comingSoon: 'Demn√§chst',
  },
};

// Deep merge function
function deepMerge(target, source) {
  const output = { ...target };

  for (const key in source) {
    if (source[key] && typeof source[key] === 'object' && !Array.isArray(source[key])) {
      if (output[key] && typeof output[key] === 'object') {
        output[key] = deepMerge(output[key], source[key]);
      } else {
        output[key] = source[key];
      }
    } else {
      output[key] = source[key];
    }
  }

  return output;
}

console.log('\nüá©üá™ FINAL GERMAN TRANSLATIONS\n');
console.log('='.repeat(70));

// Merge manual translations
const updated = deepMerge(de, manualTranslations);

// Count how many we added
let addedCount = 0;
for (const section in manualTranslations) {
  if (typeof manualTranslations[section] === 'object') {
    addedCount += Object.keys(manualTranslations[section]).length;
  }
}

console.log(`‚úÖ Manual translations added: ${addedCount} keys`);

// Save
fs.writeFileSync(DE_PATH, JSON.stringify(updated, null, 2) + '\n', 'utf8');
console.log(`üíæ Saved to: ${DE_PATH}`);

console.log('='.repeat(70));
console.log('‚ú® Translation complete!\n');
