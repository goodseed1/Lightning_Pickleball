#!/usr/bin/env node
const fs = require('fs');
const EN_PATH = './src/locales/en.json';
const ES_PATH = './src/locales/es.json';

const en = JSON.parse(fs.readFileSync(EN_PATH, 'utf8'));
let es = JSON.parse(fs.readFileSync(ES_PATH, 'utf8'));

const finalPush = {
  'Upload QR Code': 'Subir C√≥digo QR',
  'Tap to upload QR code image': 'Toca para subir imagen de c√≥digo QR',
  'Payment Request Details': 'Detalles de Solicitud de Pago',
  'Payment Reminder': 'Recordatorio de Pago',
  'Dues Exempt': 'Exento de Cuotas',
  Owed: 'Adeudado',
  'Join Fee Paid': 'Cuota de Ingreso Pagada',
  'Join Fee Unpaid': 'Cuota de Ingreso Sin Pagar',
  'Join Fee Exempt': 'Exento de Cuota de Ingreso',
  items: 'elementos',
  '{{count}} unpaid': '{{count}} sin pagar',
  All: 'Todos',
  Unpaid: 'Sin Pagar',
  'Paid & Exempt': 'Pagado y Exento',
  'View {{count}}': 'Ver {{count}}',
  'Unpaid {{count}}': 'Sin Pagar {{count}}',
  'Late Fee {{count}}': 'Recargo {{count}}',
  'Has Photo': 'Tiene Foto',
  Attachment: 'Adjunto',
  Approve: 'Aprobar',
  Reject: 'Rechazar',
  'Join Fee': 'Cuota de Ingreso',
  'Late Fee': 'Recargo por Mora',
  Overdue: 'Vencido',
  Paid: 'Pagado',
  Exempt: 'Exento',
  Pending: 'Pendiente',
  'Due on {{date}}': 'Vence el {{date}}',
  'No payment history': 'Sin historial de pagos',
  'No late fees': 'Sin recargos por mora',
  'Export Dues Data': 'Exportar Datos de Cuotas',
  'Configure dues settings first': 'Configura ajustes de cuotas primero',
  'Auto send invoices on {{day}} of each month':
    'Enviar facturas autom√°ticamente el d√≠a {{day}} de cada mes',
  'Due {{day}} of each month': 'Vence el d√≠a {{day}} de cada mes',
  'No payment methods set up': 'Sin m√©todos de pago configurados',
  'Add payment methods in settings': 'Agrega m√©todos de pago en configuraci√≥n',
  '{{month}}': '{{month}}',
  Dashboard: 'Panel',
  'Manage Members': 'Gestionar Miembros',
  'Dues Data Export': 'Exportaci√≥n de Datos de Cuotas',
  'Default payment instructions': 'Instrucciones de pago predeterminadas',
  'Payment methods shown to members': 'M√©todos de pago mostrados a los miembros',
  'Court number': 'N√∫mero de cancha',
  courts: 'canchas',
  'No court assigned': 'Sin cancha asignada',
  'Match date': 'Fecha del partido',
  'No schedule set': 'Sin horario establecido',
  Winner: 'Ganador',
  Loser: 'Perdedor',
  'Playoff Round {{round}}': 'Ronda Eliminatoria {{round}}',
  'Match {{match}}': 'Partido {{match}}',
  Finals: 'Finales',
  Semifinals: 'Semifinales',
  Quarterfinals: 'Cuartos de Final',
  'View Match': 'Ver Partido',
  'No matches scheduled': 'No hay partidos programados',
  Results: 'Resultados',
  Schedule: 'Horario',
  Standings: 'Clasificaci√≥n',
  Participants: 'Participantes',
  Management: 'Gesti√≥n',
  Applications: 'Solicitudes',
  Matches: 'Partidos',
  Settings: 'Configuraci√≥n',
  General: 'General',
  Privacy: 'Privacidad',
  Notifications: 'Notificaciones',
  Language: 'Idioma',
  Theme: 'Tema',
  About: 'Acerca de',
  Help: 'Ayuda',
  Terms: 'T√©rminos',
  Feedback: 'Comentarios',
  Version: 'Versi√≥n',
  Logout: 'Cerrar Sesi√≥n',
  'Sign In': 'Iniciar Sesi√≥n',
  'Sign Up': 'Registrarse',
  'Forgot Password': 'Olvid√© mi Contrase√±a',
  'Reset Password': 'Restablecer Contrase√±a',
  'Change Password': 'Cambiar Contrase√±a',
  'Update Profile': 'Actualizar Perfil',
  'Edit Profile': 'Editar Perfil',
  'View Profile': 'Ver Perfil',
  'My Profile': 'Mi Perfil',
  'My Clubs': 'Mis Clubs',
  'My Matches': 'Mis Partidos',
  'My Schedule': 'Mi Horario',
  'My Stats': 'Mis Estad√≠sticas',
  'My Achievements': 'Mis Logros',
  'My Friends': 'Mis Amigos',
  'Find Players': 'Encontrar Jugadores',
  'Find Clubs': 'Encontrar Clubs',
  'Create Club': 'Crear Club',
  'Create Match': 'Crear Partido',
  'Create Event': 'Crear Evento',
  'Create League': 'Crear Liga',
  'Create Tournament': 'Crear Torneo',
  'Join Club': 'Unirse al Club',
  'Join Match': 'Unirse al Partido',
  'Join Event': 'Unirse al Evento',
  'Join League': 'Unirse a Liga',
  'Join Tournament': 'Unirse a Torneo',
  'Leave Club': 'Abandonar Club',
  'Leave Match': 'Abandonar Partido',
  'Leave Event': 'Abandonar Evento',
  'Leave League': 'Abandonar Liga',
  'Leave Tournament': 'Abandonar Torneo',
  'Invite Friends': 'Invitar Amigos',
  Share: 'Compartir',
  'Copy Link': 'Copiar Enlace',
  Report: 'Reportar',
  Block: 'Bloquear',
  Unblock: 'Desbloquear',
  Follow: 'Seguir',
  Unfollow: 'Dejar de Seguir',
  Message: 'Mensaje',
  Call: 'Llamar',
  'Video Call': 'Videollamada',
  Mute: 'Silenciar',
  Unmute: 'Activar Sonido',
  Delete: 'Eliminar',
  Archive: 'Archivar',
  Unarchive: 'Desarchivar',
  Pin: 'Fijar',
  Unpin: 'Desfijar',
  'Mark as Read': 'Marcar como Le√≠do',
  'Mark as Unread': 'Marcar como No Le√≠do',
  'Select All': 'Seleccionar Todo',
  'Deselect All': 'Deseleccionar Todo',
  'Clear All': 'Limpiar Todo',
  Refresh: 'Actualizar',
  Reload: 'Recargar',
  Back: 'Volver',
  Next: 'Siguiente',
  Previous: 'Anterior',
  Close: 'Cerrar',
  Open: 'Abrir',
  Show: 'Mostrar',
  Hide: 'Ocultar',
  Expand: 'Expandir',
  Collapse: 'Contraer',
  More: 'M√°s',
  Less: 'Menos',
  Details: 'Detalles',
  Info: 'Informaci√≥n',
  Preview: 'Vista Previa',
  Download: 'Descargar',
  Upload: 'Subir',
  Send: 'Enviar',
  Receive: 'Recibir',
  Request: 'Solicitar',
  Accept: 'Aceptar',
  Decline: 'Rechazar',
  Confirm: 'Confirmar',
  Cancel: 'Cancelar',
  Save: 'Guardar',
  Discard: 'Descartar',
  Undo: 'Deshacer',
  Redo: 'Rehacer',
  Copy: 'Copiar',
  Paste: 'Pegar',
  Cut: 'Cortar',
  Duplicate: 'Duplicar',
  Rename: 'Renombrar',
  Move: 'Mover',
  Sort: 'Ordenar',
  Filter: 'Filtrar',
  Search: 'Buscar',
  Clear: 'Limpiar',
  Reset: 'Restablecer',
  Apply: 'Aplicar',
  Done: 'Hecho',
  Finish: 'Finalizar',
  Skip: 'Omitir',
  Continue: 'Continuar',
  Proceed: 'Proceder',
  Submit: 'Enviar',
  Update: 'Actualizar',
  Upgrade: 'Mejorar',
  Downgrade: 'Degradar',
  Enable: 'Activar',
  Disable: 'Desactivar',
  Activate: 'Activar',
  Deactivate: 'Desactivar',
  On: 'Activado',
  Off: 'Desactivado',
  Yes: 'S√≠',
  No: 'No',
  Maybe: 'Tal Vez',
  Always: 'Siempre',
  Never: 'Nunca',
  Sometimes: 'A Veces',
  Required: 'Requerido',
  Optional: 'Opcional',
  Recommended: 'Recomendado',
  New: 'Nuevo',
  Old: 'Antiguo',
  Recent: 'Reciente',
  Popular: 'Popular',
  Featured: 'Destacado',
  Top: 'Principal',
  Best: 'Mejor',
  Trending: 'Tendencia',
  Live: 'En Vivo',
  Archived: 'Archivado',
  Draft: 'Borrador',
  Published: 'Publicado',
  Scheduled: 'Programado',
  Private: 'Privado',
  Public: 'P√∫blico',
  'Friends Only': 'Solo Amigos',
  'Members Only': 'Solo Miembros',
  Anyone: 'Cualquiera',
  Custom: 'Personalizado',
  'All Time': 'Todo el Tiempo',
  'This Month': 'Este Mes',
  'This Week': 'Esta Semana',
  Today: 'Hoy',
  Yesterday: 'Ayer',
  Tomorrow: 'Ma√±ana',
  Upcoming: 'Pr√≥ximos',
  Past: 'Pasados',
  Current: 'Actual',
  Active: 'Activo',
  Inactive: 'Inactivo',
  Available: 'Disponible',
  Unavailable: 'No Disponible',
  Online: 'En L√≠nea',
  Offline: 'Fuera de L√≠nea',
  Busy: 'Ocupado',
  Away: 'Ausente',
  'Do Not Disturb': 'No Molestar',
  Loading: 'Cargando',
  Saving: 'Guardando',
  Sending: 'Enviando',
  Receiving: 'Recibiendo',
  Processing: 'Procesando',
  Uploading: 'Subiendo',
  Downloading: 'Descargando',
  Syncing: 'Sincronizando',
  Connecting: 'Conectando',
  Disconnecting: 'Desconectando',
  Reconnecting: 'Reconectando',
  Success: '√âxito',
  Failed: 'Fallido',
  Error: 'Error',
  Warning: 'Advertencia',
  Notice: 'Aviso',
  Alert: 'Alerta',
  Reminder: 'Recordatorio',
  Tip: 'Consejo',
  Note: 'Nota',
  Important: 'Importante',
  Urgent: 'Urgente',
  Priority: 'Prioridad',
  Low: 'Bajo',
  Medium: 'Medio',
  High: 'Alto',
  Critical: 'Cr√≠tico',
  Normal: 'Normal',
  Fast: 'R√°pido',
  Slow: 'Lento',
  Easy: 'F√°cil',
  Hard: 'Dif√≠cil',
  Simple: 'Simple',
  Complex: 'Complejo',
  Basic: 'B√°sico',
  Advanced: 'Avanzado',
  Beginner: 'Principiante',
  Intermediate: 'Intermedio',
  Expert: 'Experto',
  Pro: 'Profesional',
  Amateur: 'Amateur',
  Recreational: 'Recreativo',
  Competitive: 'Competitivo',
  Casual: 'Casual',
  Serious: 'Serio',
  Fun: 'Divertido',
  Professional: 'Profesional',
  Student: 'Estudiante',
  Coach: 'Entrenador',
  Player: 'Jugador',
  Member: 'Miembro',
  Guest: 'Invitado',
  Admin: 'Administrador',
  Manager: 'Gerente',
  Owner: 'Propietario',
  Moderator: 'Moderador',
  User: 'Usuario',
  Visitor: 'Visitante',
  Subscriber: 'Suscriptor',
  Premium: 'Premium',
  Free: 'Gratis',
  Trial: 'Prueba',
  'Basic Plan': 'Plan B√°sico',
  'Standard Plan': 'Plan Est√°ndar',
  'Pro Plan': 'Plan Pro',
  Enterprise: 'Empresarial',
  Monthly: 'Mensual',
  Yearly: 'Anual',
  Weekly: 'Semanal',
  Daily: 'Diario',
  'One-time': '√önico',
  Recurring: 'Recurrente',
  Subscription: 'Suscripci√≥n',
  Purchase: 'Compra',
  Order: 'Pedido',
  Invoice: 'Factura',
  Receipt: 'Recibo',
  Refund: 'Reembolso',
  Discount: 'Descuento',
  Coupon: 'Cup√≥n',
  'Promo Code': 'C√≥digo Promocional',
  'Gift Card': 'Tarjeta de Regalo',
  Credit: 'Cr√©dito',
  Debit: 'D√©bito',
  Cash: 'Efectivo',
  Card: 'Tarjeta',
  'Bank Transfer': 'Transferencia Bancaria',
  PayPal: 'PayPal',
  Venmo: 'Venmo',
  'Apple Pay': 'Apple Pay',
  'Google Pay': 'Google Pay',
  Cryptocurrency: 'Criptomoneda',
  Other: 'Otro',
  None: 'Ninguno',
  Unknown: 'Desconocido',
  'Not Specified': 'No Especificado',
  'Not Available': 'No Disponible',
  'Coming Soon': 'Pr√≥ximamente',
  'Under Development': 'En Desarrollo',
  'Under Maintenance': 'En Mantenimiento',
  Deprecated: 'Obsoleto',
  Experimental: 'Experimental',
  Beta: 'Beta',
  Alpha: 'Alpha',
  Stable: 'Estable',
  Latest: 'M√°s Reciente',
  Updated: 'Actualizado',
  Outdated: 'Desactualizado',
  Legacy: 'Legado',
  Classic: 'Cl√°sico',
  Modern: 'Moderno',
  Lite: 'Ligero',
  Full: 'Completo',
  Compact: 'Compacto',
  Extended: 'Extendido',
  Mini: 'Mini',
  Maxi: 'M√°xi',
  Small: 'Peque√±o',
  Medium: 'Mediano',
  Large: 'Grande',
  'Extra Large': 'Extra Grande',
  Tiny: 'Diminuto',
  Huge: 'Enorme',
};

function deepReplace(enObj, esObj, dict) {
  for (const key in enObj) {
    if (typeof enObj[key] === 'object' && !Array.isArray(enObj[key]) && enObj[key] !== null) {
      esObj[key] = esObj[key] || {};
      deepReplace(enObj[key], esObj[key], dict);
    } else if (typeof enObj[key] === 'string') {
      if (esObj[key] === enObj[key]) {
        esObj[key] = dict[enObj[key]] || enObj[key];
      }
    }
  }
}

function countUntranslated(enObj, esObj) {
  let count = 0;
  for (const key in enObj) {
    if (typeof enObj[key] === 'object' && !Array.isArray(enObj[key])) {
      count += countUntranslated(enObj[key], esObj[key] || {});
    } else if (esObj[key] === enObj[key]) {
      count++;
    }
  }
  return count;
}

const before = countUntranslated(en, es);
deepReplace(en, es, finalPush);
const after = countUntranslated(en, es);

fs.writeFileSync(ES_PATH, JSON.stringify(es, null, 2), 'utf8');

console.log('‚úÖ Translated: ' + (before - after));
console.log('üìä Remaining: ' + after);
console.log('üìà Total Progress: ' + Math.round((1 - after / 966) * 100) + '%');
